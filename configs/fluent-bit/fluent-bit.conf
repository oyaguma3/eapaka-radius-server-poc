[SERVICE]
    Flush        1
    Daemon       Off
    Log_Level    info
    Parsers_File parsers.conf

[INPUT]
    Name         forward
    Listen       0.0.0.0
    Port         24224
    Mem_Buf_Limit 5MB

# Docker fluentd ドライバーの log フィールドをパース
[FILTER]
    Name         parser
    Match        app.*
    Key_Name     log
    Parser       json
    Reserve_Data Off

# Auth Server ログ
[OUTPUT]
    Name         file
    Match        app.auth-server
    Path         /output_logs
    File         auth-server.log
    Format       json_lines

# Acct Server ログ
[OUTPUT]
    Name         file
    Match        app.acct-server
    Path         /output_logs
    File         acct-server.log
    Format       json_lines

# Vector Gateway ログ
[OUTPUT]
    Name         file
    Match        app.vector-gateway
    Path         /output_logs
    File         vector-gateway.log
    Format       json_lines

# Vector API ログ
[OUTPUT]
    Name         file
    Match        app.vector-api
    Path         /output_logs
    File         vector-api.log
    Format       json_lines

# Valkey ログ
[OUTPUT]
    Name         file
    Match        app.valkey
    Path         /output_logs
    File         valkey.log
    Format       json_lines

# その他（マッチしなかったログ）
[OUTPUT]
    Name         file
    Match        *
    Path         /output_logs
    File         others.log
    Format       json_lines
