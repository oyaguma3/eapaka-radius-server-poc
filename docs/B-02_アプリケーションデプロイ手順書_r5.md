# B-02 アプリケーションデプロイ手順書 (r5)

## 1. 概要

### 1.1 目的

本ドキュメントは、B-01「ホストOS構築手順書」で構築したホストOS上にアプリケーションをデプロイし、EAP-AKA RADIUS PoC環境を運用可能な状態にするまでの手順を提供する。

### 1.2 スコープ

**本書で扱う範囲：**

- リポジトリのクローン（`git clone`）
- 環境変数ファイル（`.env`）の作成
- ログ出力ディレクトリの準備
- `docker compose up -d` による起動
- Admin TUIバイナリの配置
- logrotate設定ファイルの配置
- バックアップスクリプトの配置
- lnavフォーマットファイルの配置

**B-01「ホストOS構築手順書」で扱う範囲（本書の前提）：**

- Ubuntu Server 24.04 LTSのインストール
- ホストOS初期設定（タイムゾーン、NTP同期）
- セキュリティ設定（SSH、UFW）
- Docker Engine / Docker Compose導入
- 運用ツール導入（lnav、jq、git）
- systemdサービス登録（アプリケーション自動起動）

### 1.3 関連ドキュメント

| ドキュメント | 参照内容 |
|-------------|---------|
| D-01 ミニPC版設計仕様書 (r9) | システム構成、ホストPCセットアップ手順概要 |
| D-04 ログ仕様設計書 (r14) | lnavフォーマット定義 |
| D-08 インフラ設定・運用設計書 (r12) | docker-compose.yml、.env、運用手順、バックアップ、logrotate |
| B-01 ホストOS構築手順書 (r2) | 本書の前提となるOS構築手順 |

### 1.4 対象読者

B-01の手順を完了したインフラ担当者。Linux CLIの基本操作（ファイル編集、パッケージ管理、サービス管理）の知識を有すること。

---

## 2. 前提条件

### 2.1 B-01完了確認

本手順の実施前に、B-01 §9「構築後チェックリスト」の全項目がパスしていることを確認する。

特に以下の項目が重要：

| 確認項目 | 確認コマンド | 期待値 |
|---------|-------------|-------|
| Dockerインストール | `docker --version` | バージョン番号が表示 |
| Docker Compose | `docker compose version` | バージョン番号が表示 |
| dockerグループ | `id admin` | docker を含む |
| systemdサービス登録 | `systemctl is-enabled eapaka-radius-server-poc` | enabled |
| lnavインストール | `lnav -V` | バージョン番号が表示 |
| gitインストール | `git --version` | バージョン番号が表示 |

### 2.2 必要な情報

本手順の実施にあたり、以下の情報を事前に準備する。

| 項目 | 説明 |
|------|------|
| リポジトリURL | git cloneに使用するURL（またはオフライン用クローン済みアーカイブ） |
| Valkeyパスワード | Valkey（Redis互換）のアクセスパスワード |
| RADIUS共有シークレット | RADIUSクライアントとの共有シークレット |
| Admin TUIバイナリ | 開発機でビルド済みのLinux AMD64向けバイナリ |

### 2.3 ネットワーク要件

| タイミング | インターネット接続 | 備考 |
|-----------|------------------|------|
| git clone時 | 必要 | リポジトリ取得に使用 |
| docker compose build時 | 必要 | Dockerイメージのダウンロードに使用 |
| 運用時 | 不要 | オフライン環境でもローカル動作可能 |

> **注記:** オフライン環境の場合は、USBメディア等でリポジトリのアーカイブとDockerイメージを転送する。

---

## 3. リポジトリクローン

### 3.1 クローン実行

`admin` ユーザーのホームディレクトリにリポジトリをクローンする。

```bash
cd ~
git clone <リポジトリURL> eapaka-radius-server-poc
```

> **注記:** オフライン環境の場合は、USBメディアからアーカイブを展開する。
> ```bash
> cd ~
> tar xzf /media/usb/eapaka-radius-server-poc.tar.gz
> ```

### 3.2 ディレクトリ構成確認

クローンが正常に完了したことを確認する。

```bash
ls -la ~/eapaka-radius-server-poc/
```

以下の主要ディレクトリが存在することを確認する。

```
apps/           # アプリケーションソースコード
configs/        # 設定ファイル（Fluent Bit等）
deployments/    # デプロイ関連ファイル
docs/           # ドキュメント
pkg/            # 共有パッケージ
```

---

## 4. 環境変数ファイル（.env）の作成

### 4.1 テンプレートからコピー

```bash
cd ~/eapaka-radius-server-poc/deployments
cp .env.example .env
```

### 4.2 必須項目の設定

`.env` ファイルを編集し、必須項目を設定する。

```bash
vi ~/eapaka-radius-server-poc/deployments/.env
```

**必須項目：**

| 変数名 | 説明 | 設定例 |
|--------|------|-------|
| `VALKEY_PASSWORD` | Valkey接続パスワード | 後述のコマンドで生成 |
| `RADIUS_SECRET` | RADIUS共有シークレット | 後述のコマンドで生成 |

パスワード・シークレットの生成には以下のコマンドを使用する。

```bash
# パスワード生成（32バイト、Base64エンコード）
openssl rand -base64 32
```

生成した値を `.env` ファイルの対応する変数に設定する。

```
VALKEY_PASSWORD=<生成したパスワード>
RADIUS_SECRET=<生成したシークレット>
```

> **⚠️ 警告:** `TEST_VECTOR_ENABLED` は本番環境では絶対に `true` に設定しないこと。テストベクターモードが有効な場合、固定の認証ベクターが使用され、セキュリティリスクが生じる。

### 4.3 オプション項目の説明

必要に応じて以下のオプション項目を設定する。

| 変数名 | デフォルト値 | 説明 |
|--------|------------|------|
| `VECTOR_GATEWAY_MODE` | `gateway` | Vector Gatewayの動作モード（`gateway` または `passthrough`） |
| `VECTOR_GATEWAY_PLMN_MAP` | （空） | PLMNマッピング（カンマ区切り、例: `"44010:01,44020:01"`） |
| `VECTOR_GATEWAY_INTERNAL_TIMEOUT` | `5s` | 内部API呼び出しタイムアウト |
| `LOG_MASK_IMSI` | `true` | IMSIマスキング有効化（本番環境では `true` を推奨） |
| `TEST_VECTOR_ENABLED` | `false` | テストベクターモード（**本番環境では設定しないこと**） |
| `TEST_VECTOR_IMSI_PREFIX` | `00101` | テストベクター対象IMSIプレフィックス |

> **注意:** `LOG_MASK_IMSI=false` の設定は、ログファイルへのアクセス制御が適切に行われている環境でのみ使用すること。デバッグ目的で一時的に無効化した場合は、調査完了後に速やかに `true` に戻すこと。

### 4.4 パーミッション設定

`.env` ファイルには認証情報が含まれるため、パーミッションを制限する。

```bash
chmod 600 ~/eapaka-radius-server-poc/deployments/.env
```

設定を確認する。

```bash
ls -la ~/eapaka-radius-server-poc/deployments/.env
```

```
# 期待される出力（パーミッションが -rw------- であること）
-rw------- 1 admin admin ... .env
```

---

## 5. ログ出力ディレクトリの準備

ホスト側のログ出力ディレクトリを作成する。Fluent Bitがログファイルを書き出す先となる。

```bash
mkdir -p ~/eapaka-radius-server-poc/deployments/logs_on_host
```

ディレクトリが作成されたことを確認する。

```bash
ls -la ~/eapaka-radius-server-poc/deployments/logs_on_host/
```

---

## 6. Docker Composeによるサービス起動

### 6.1 イメージビルド

```bash
cd ~/eapaka-radius-server-poc/deployments
docker compose build
```

> **注記:** 初回ビルドはDockerイメージのダウンロードとGoアプリケーションのコンパイルのため、時間がかかる。ネットワーク環境にもよるが、10〜30分程度を見込むこと。

### 6.2 サービス起動

```bash
cd ~/eapaka-radius-server-poc/deployments
docker compose up -d
```

### 6.3 起動確認

全サービスの状態を確認する。

```bash
cd ~/eapaka-radius-server-poc/deployments
docker compose ps
```

期待される出力（全6サービスが起動していること）：

```
NAME                STATUS              PORTS
auth-server         Up (healthy)        0.0.0.0:1812->1812/udp
acct-server         Up (healthy)        0.0.0.0:1813->1813/udp
vector-gateway      Up (healthy)        8080/tcp
vector-api          Up (healthy)        8080/tcp
valkey              Up (healthy)        127.0.0.1:6379->6379/tcp
fluent-bit          Up                  0.0.0.0:24224->24224/tcp,udp
```

> **注記:** 起動直後はヘルスチェックが完了するまで `starting` と表示される場合がある。30秒〜1分程度待ってから再確認すること。

### 6.4 ヘルスチェック確認

各サービスのヘルスチェック状態を個別に確認する。

```bash
cd ~/eapaka-radius-server-poc/deployments

# 各サービスのヘルスチェック状態確認
docker compose ps auth-server
docker compose ps acct-server
docker compose ps vector-gateway
docker compose ps vector-api
docker compose ps valkey
```

Valkey接続を確認する。

```bash
cd ~/eapaka-radius-server-poc/deployments

# Valkey接続テスト
docker compose exec valkey valkey-cli -a ${VALKEY_PASSWORD} ping
# 期待される出力: PONG
```

> **注記:** `${VALKEY_PASSWORD}` は `.env` ファイルで設定したパスワードに置き換えること。または、事前に `source .env` を実行して環境変数を読み込んでもよい。

### 6.5 systemdサービス起動テスト

systemd経由での起動・停止が正常に動作することを確認する。

```bash
# サービスを一度停止する
cd ~/eapaka-radius-server-poc/deployments
docker compose down

# systemd経由で起動
sudo systemctl start eapaka-radius-server-poc

# 状態確認
cd ~/eapaka-radius-server-poc/deployments
docker compose ps
# 全サービスが Up であることを確認

# systemd経由で停止
sudo systemctl stop eapaka-radius-server-poc

# 停止確認
docker compose ps
# サービスが停止していることを確認

# 再度systemd経由で起動（運用状態にする）
sudo systemctl start eapaka-radius-server-poc
```

---

## 7. Admin TUIの配置

### 7.1 バイナリ転送

開発機でビルド済みのAdmin TUIバイナリをホストに転送する。

**開発機側での操作：**

```bash
# クロスコンパイル（開発機がLinux AMD64以外の場合）
cd apps/admin-tui
GOOS=linux GOARCH=amd64 go build -o admin-tui-linux .
```

> **注記:** クロスコンパイルの詳細はE-01 §7.2を参照。

```bash
# ホストに転送（SSHポートは10022）
# admin-tui-linux を ~/admin-tui というファイル名にリネームして転送する
scp -P 10022 admin-tui-linux admin@<ミニPCのIPアドレス>:~/admin-tui
```

> **注記:** 上記の `scp` コマンドは、ローカルの `admin-tui-linux` ファイルをリモートホスト上の `~/admin-tui` という**ファイル名**に変更して転送する。`~/admin-tui` はディレクトリではなく、転送先のファイルパスである。

### 7.2 実行権限設定

```bash
chmod +x ~/admin-tui
```

### 7.3 動作確認

Admin TUIが正常に起動し、Valkeyに接続できることを確認する。`~/admin-tui` は §7.1 で転送した実行バイナリである。

```bash
VALKEY_PASSWORD=<設定したパスワード> ~/admin-tui
```

- 画面が正常に表示されること
- Valkey接続が成功していること

確認後、`Ctrl+C` で終了する。

---

## 8. logrotate設定

### 8.1 設定ファイル作成

ログローテーション設定ファイルを作成する。

```bash
sudo vi /etc/logrotate.d/eapaka-radius-server-poc
```

以下の内容を記述する（D-08 §3.4準拠）。

```
/home/admin/eapaka-radius-server-poc/deployments/logs_on_host/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    create 0644 root root
    dateext
    dateformat -%Y%m%d
}
```

### 8.2 設定確認

ドライランで設定にエラーがないことを確認する。

```bash
sudo logrotate -d /etc/logrotate.d/eapaka-radius-server-poc
```

エラーが表示されないことを確認する。

---

## 9. バックアップスクリプトの配置

### 9.1 ディレクトリ作成

バックアップ関連のディレクトリを作成する。

```bash
mkdir -p ~/scripts ~/backups/valkey ~/logs
```

### 9.2 スクリプト作成

バックアップスクリプトを作成する（D-08 §2.4準拠）。

```bash
vi ~/scripts/backup_valkey.sh
```

以下の内容を記述する。

```bash
#!/bin/bash
set -e

BACKUP_DIR="${HOME}/backups/valkey"
RETENTION_DAYS=7
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

# バックアップディレクトリ作成
mkdir -p "${BACKUP_DIR}"

# バックアップ実行
cd ~/eapaka-radius-server-poc/deployments
docker compose exec -T valkey sh -c 'tar czf - /data' > "${BACKUP_DIR}/backup_${TIMESTAMP}.tar.gz"

# 古いバックアップの削除
find "${BACKUP_DIR}" -name "backup_*.tar.gz" -mtime +${RETENTION_DAYS} -delete

echo "Backup completed: backup_${TIMESTAMP}.tar.gz"
```

### 9.3 実行権限設定

```bash
chmod +x ~/scripts/backup_valkey.sh
```

### 9.4 crontab設定

日次バックアップを自動実行するため、crontabに登録する。

```bash
crontab -e
```

以下の行を追加する（毎日03:00に実行）。

```
0 3 * * * /home/admin/scripts/backup_valkey.sh >> /home/admin/logs/backup.log 2>&1
```

登録を確認する。

```bash
crontab -l
```

バックアップジョブが表示されることを確認する。

### 9.5 動作確認

手動でスクリプトを実行し、バックアップが正常に作成されることを確認する。

```bash
~/scripts/backup_valkey.sh
```

バックアップファイルが生成されたことを確認する。

```bash
ls -la ~/backups/valkey/
```

`backup_YYYYMMDD_HHMMSS.tar.gz` 形式のファイルが存在することを確認する。

---

## 10. lnavフォーマットファイルの配置

### 10.1 配置先ディレクトリ作成

```bash
mkdir -p ~/.lnav/formats/installed
```

### 10.2 フォーマットファイルの配置

リポジトリ内にフォーマットファイルが存在する場合はコピーする。

```bash
cp ~/eapaka-radius-server-poc/deployments/lnav_formats/eap_aka_log.json ~/.lnav/formats/installed/
```

> **注記:** リポジトリ内に `deployments/lnav_formats/eap_aka_log.json` が存在しない場合は、以下の手順でファイルを手動作成する。

```bash
vi ~/.lnav/formats/installed/eap_aka_log.json
```

以下の内容を記述する（D-04 §5準拠）。

```json
{
    "eap_aka_log": {
        "title": "EAP-AKA System Logs",
        "description": "Structured logs from Go RADIUS PoC",
        "url": "http://localhost",
        "json": true,
        "timestamp-field": "time",
        "level-field": "level",
        "body-field": "msg",
        "timestamp-format": ["%Y-%m-%dT%H:%M:%S.%L%Z"],
        "value": {
            "imsi": { "kind": "string", "identifier": true },
            "trace_id": { "kind": "string", "identifier": true },
            "event_id": { "kind": "string", "identifier": true },
            "backend_id": { "kind": "string", "identifier": true },
            "plmn": { "kind": "string", "identifier": true },
            "latency_ms": { "kind": "integer" },
            "input_octets": { "kind": "integer" },
            "output_octets": { "kind": "integer" },
            "retry_count": { "kind": "integer" },
            "downtime_ms": { "kind": "integer" },
            "failure_count": { "kind": "integer" },
            "resync_count": { "kind": "integer" },
            "http_status": { "kind": "integer" }
        },
        "line-format": [
            { "field": "time" }, " ",
            { "field": "level" }, " ",
            { "field": "app" }, " ",
            { "field": "event_id", "default-value": "-" }, " ",
            "[", { "field": "imsi", "default-value": "no-imsi" }, "] ",
            { "field": "msg" }
        ]
    }
}
```

### 10.3 動作確認

lnavのフォーマット設定にエラーがないことを確認する。

```bash
lnav -C
```

エラーが表示されないことを確認する。

ログファイルが出力されている場合は、フォーマットが適用されることを確認する。

```bash
lnav ~/eapaka-radius-server-poc/deployments/logs_on_host/*.log
```

---

## 11. デプロイ後チェックリスト

すべての手順が完了した後、以下のチェックリストで最終確認を行う。

| # | 確認項目 | 確認コマンド | 期待値 |
|---|---------|-------------|-------|
| 1 | リポジトリ存在 | `ls ~/eapaka-radius-server-poc/deployments/docker-compose.yml` | ファイル存在 |
| 2 | .envファイル | `ls -la ~/eapaka-radius-server-poc/deployments/.env` | パーミッション600 |
| 3 | 全コンテナ起動 | `docker compose ps`（deploymentsディレクトリで実行） | 6サービスすべてUp |
| 4 | auth-serverヘルス | `docker compose ps auth-server` | healthy |
| 5 | acct-serverヘルス | `docker compose ps acct-server` | healthy |
| 6 | vector-gatewayヘルス | `docker compose ps vector-gateway` | healthy |
| 7 | vector-apiヘルス | `docker compose ps vector-api` | healthy |
| 8 | valkeyヘルス | `docker compose ps valkey` | healthy |
| 9 | Valkey接続 | `docker compose exec valkey valkey-cli -a $VALKEY_PASSWORD ping` | PONG |
| 10 | systemd起動テスト | `sudo systemctl start eapaka-radius-server-poc && docker compose ps` | 全サービスUp |
| 11 | Admin TUI | `VALKEY_PASSWORD=<password> ~/admin-tui` で起動 | 画面表示・Valkey接続OK |
| 12 | logrotate | `sudo logrotate -d /etc/logrotate.d/eapaka-radius-server-poc` | エラーなし |
| 13 | バックアップスクリプト | `~/scripts/backup_valkey.sh` | バックアップファイル生成 |
| 14 | crontab | `crontab -l` | バックアップジョブ登録済み |
| 15 | lnavフォーマット | `lnav -C` | エラーなし |
| 16 | ログ出力 | `ls ~/eapaka-radius-server-poc/deployments/logs_on_host/` | ログファイル存在 |

---

## 12. リポジトリ更新時のローカル環境への反映

リポジトリに更新（バグ修正、機能追加等）が行われた場合、ホストPC上のローカル環境に反映する手順を示す。

### 12.1 更新前の注意事項

- `.env` ファイルはリポジトリ管理外であるため、`git pull` で上書きされることはない。ただし、`.env.example` に新しい変数が追加されている場合は、手動で `.env` に反映する必要がある。
- ローカルで設定ファイル等を独自に変更している場合は、`git stash` で一時退避するか、事前にバックアップを取得すること。

### 12.2 リポジトリの更新

```bash
cd ~/eapaka-radius-server-poc
git pull
```

> **注記:** `git pull` でコンフリクトが発生した場合は、ローカル変更の内容を確認し、適切にマージすること。

### 12.3 Dockerイメージの再ビルドとコンテナ更新

アプリケーションのソースコードや Dockerfile に変更があった場合、イメージの再ビルドとコンテナの再作成が必要となる。

```bash
cd ~/eapaka-radius-server-poc/deployments

# イメージを再ビルド
docker compose build

# コンテナを更新して再起動
docker compose up -d
```

> **注記:** `docker compose up -d` は、イメージが更新されたサービスのコンテナのみ再作成する。変更のないサービスは再起動されない。

### 12.4 Admin TUIバイナリの再配置

Admin TUIのソースコードに変更があった場合は、開発機で再ビルドし、ホストに転送する。手順は §7.1〜§7.2 と同様である。

**開発機側での操作：**

```bash
cd apps/admin-tui
GOOS=linux GOARCH=amd64 go build -o admin-tui-linux .

# ホストに転送
scp -P 10022 admin-tui-linux admin@<ミニPCのIPアドレス>:~/admin-tui
```

**ホスト側での操作：**

```bash
chmod +x ~/admin-tui
```

### 12.5 更新後の動作確認

更新後、以下の項目を確認する。

```bash
cd ~/eapaka-radius-server-poc/deployments

# 全サービスの起動状態を確認
docker compose ps

# Valkey接続を確認
docker compose exec valkey valkey-cli -a ${VALKEY_PASSWORD} ping
```

Admin TUIを更新した場合は、起動確認も行う。

```bash
VALKEY_PASSWORD=<設定したパスワード> ~/admin-tui
```

---

## 13. トラブルシューティング

### 13.1 コンテナが起動しない場合

**症状:** `docker compose ps` でサービスが表示されない、またはステータスが `Exit` になっている。

**確認手順：**

```bash
cd ~/eapaka-radius-server-poc/deployments

# コンテナのログを確認
docker compose logs <サービス名>

# 例: auth-serverのログ確認
docker compose logs auth-server
```

**主な原因と対処：**

| 原因 | 対処 |
|------|------|
| イメージビルド失敗 | `docker compose build --no-cache` で再ビルド |
| `.env` ファイル不備 | `.env` の変数が正しく設定されているか確認 |
| 依存サービス未起動 | `docker compose up -d` で全サービスを再起動 |
| ポート競合 | `ss -tlnp` で使用中のポートを確認し、競合を解消 |

### 13.2 Valkey接続エラー

**症状:** `PONG` が返らない、または認証エラーが表示される。

**確認手順：**

```bash
cd ~/eapaka-radius-server-poc/deployments

# Valkeyコンテナの状態確認
docker compose ps valkey

# Valkeyのログ確認
docker compose logs valkey
```

**主な原因と対処：**

| 原因 | 対処 |
|------|------|
| パスワード不一致 | `.env` の `VALKEY_PASSWORD` と接続時のパスワードが一致しているか確認 |
| コンテナ未起動 | `docker compose up -d valkey` で起動 |
| ヘルスチェック失敗 | `docker compose logs valkey` でエラー内容を確認 |

### 13.3 ログが出力されない場合

**症状:** `logs_on_host/` ディレクトリにログファイルが作成されない。

**確認手順：**

```bash
cd ~/eapaka-radius-server-poc/deployments

# Fluent Bitの状態確認
docker compose ps fluent-bit

# Fluent Bitのログ確認
docker compose logs fluent-bit

# ログディレクトリの権限確認
ls -la ~/eapaka-radius-server-poc/deployments/logs_on_host/
```

**主な原因と対処：**

| 原因 | 対処 |
|------|------|
| Fluent Bit未起動 | `docker compose up -d fluent-bit` で起動 |
| 設定ファイルエラー | `configs/fluent-bit/fluent-bit.yaml` の内容を確認 |
| ディレクトリ権限不足 | `chmod 755 ~/eapaka-radius-server-poc/deployments/logs_on_host/` |

### 13.4 Admin TUIが接続できない場合

**症状:** Admin TUI起動時にValkey接続エラーが表示される。

**確認手順：**

```bash
# 環境変数が設定されているか確認
echo $VALKEY_PASSWORD

# Valkeyのポートバインド確認
cd ~/eapaka-radius-server-poc/deployments
docker compose ps valkey
# 127.0.0.1:6379->6379/tcp と表示されることを確認
```

**主な原因と対処：**

| 原因 | 対処 |
|------|------|
| `VALKEY_PASSWORD` 未設定 | 起動コマンドに `VALKEY_PASSWORD=<パスワード>` を付与 |
| Valkeyコンテナ未起動 | `docker compose up -d valkey` で起動 |
| ポートバインドエラー | `docker compose ps valkey` でポートマッピングを確認 |

### 13.5 systemdサービスが失敗する場合

**症状:** `sudo systemctl start eapaka-radius-server-poc` でエラーが発生する。

**確認手順：**

```bash
# サービスの状態確認
sudo systemctl status eapaka-radius-server-poc

# journalログ確認
sudo journalctl -u eapaka-radius-server-poc --no-pager -n 50
```

**主な原因と対処：**

| 原因 | 対処 |
|------|------|
| `WorkingDirectory` が不正 | systemdユニットファイルのパスが正しいか確認（B-01参照） |
| docker権限不足 | `admin` ユーザーが `docker` グループに所属しているか確認（`id admin`） |
| Docker未起動 | `sudo systemctl start docker` でDockerを起動 |

---

## 改訂履歴

| 版数 | 日付 | 内容 |
|------|------|------|
| r1 | 2026-02-07 | 初版作成 |
| r2 | 2026-02-16 | 関連ドキュメント参照版数を更新（D-01 r8→r9、D-08 r8→r9、B-01 r1→r2） |
| r3 | 2026-02-22 | §7 Admin TUI配置手順のscp転送説明を補足、§12 リポジトリ更新時のローカル環境への反映手順を追加 |
| r4 | 2026-02-23 | §10 lnavフォーマットファイルのプロパティ名をlnav仕様準拠に修正（ハイフン区切り）、関連ドキュメント参照版数を更新（D-04 r12→r13） |
| r5 | 2026-02-23 | 関連ドキュメント参照版数を更新（D-04 r13→r14、D-08 r9→r12）、§13.3 Fluent Bit設定ファイル参照をYAML形式に修正（fluent-bit.conf→fluent-bit.yaml） |
